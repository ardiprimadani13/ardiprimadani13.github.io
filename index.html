<!DOCTYPE html>
<html lang="id"> <!-- Ganti "id" dengan kode bahasa yang diinginkan -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toko Sepatu</title>
    <link rel="stylesheet" href="styles.css">
    <script src="scripts.js" defer></script>
    <script>
        function toggleDropdown() {
            var dropdownContent = document.getElementById("dropdownContent");
            dropdownContent.classList.toggle("show");
        }

        function logout() {
            localStorage.removeItem('userEmail');
            window.location.href = "index.html";
        }

        document.addEventListener('DOMContentLoaded', function() {
            var userEmail = localStorage.getItem('userEmail');
            if (userEmail) {
                const authLinks = document.getElementById('auth-links');
                authLinks.innerHTML = `<span>Selamat datang, ${userEmail}</span>`;
            }

            // Menampilkan tanggal saat ini
            var currentDate = new Date();
            var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            var formattedDate = currentDate.toLocaleDateString('id-ID', options);

            // Mengambil elemen div currentDate
            var currentDateDiv = document.getElementById('currentDate');
            // Menambahkan tanggal dan emoji di dalamnya
            currentDateDiv.innerHTML = `${formattedDate} üóìÔ∏è`;
        });
    </script>
</head>
<body>
    <header>
        <div class="language-selector">Bahasa: <select onchange="changeLanguage(this)">
            <option value="id">Indonesia</option>
            <option value="en">English</option>
            <!-- Tambahkan opsi bahasa lain jika diperlukan -->
        </select>
    </div>
        <h1><span class="butterfly">‚ù§</span> RIMBERIO OFFICIAL STORE <span class="butterfly">‚ù§</span></h1>
        <div class="auth-links" id="auth-links">
            <a href="login.html">Masuk</a>
            <a href="register.html">Daftar</a>
        </div>
        <nav>
            <a href="index.html">Beranda</a>
            <a href="checkout.html">Keranjang</a>
            <a href="bantuan.html">Bantuan</a>
            <a href="about.html">Tentang Kami</a>
        </nav>
    </header>
    <section class="banner">
    </section>
    <section class="categories">
        <section class="welcome-section">
            <div id="currentDate"></div> <!-- Tanggal dan emoji akan ditampilkan di sini -->
            <div class="welcome-text">
                <span>Selamat Datang</span>
                <a href="dana.html">üíµ</a>
                <div class="dropdown">
                    <button onclick="toggleDropdown()" class="dropbtn">&#9662;</button>
                    <div class="dropdown-content" id="dropdownContent">
                        <a href="#" onclick="logout()">Logout</a>
                    </div>
                </div>
                <div class="search-bar">
                    <form action="search.html" method="get" onsubmit="return validateSearch()">
                        <input type="text" name="query" id="searchQuery" placeholder="Cari produk...">
                        <button type="submit">Cari</button><a href="pulsa.html">üì±</a>
                    </form>
                </div>
                <hr class="separator-line">
            </div>
        </section>
        <section class="categories">
            <h2>Kategori</h2>
            <div class="category-list">
                <div class="category">
                    <a href="productspria.html?category=men">
                        <img src="product011.jpg" alt="Sepatu Pria">
                        <p>Sepatu Pria</p>
                    </a>
                </div>
                <div class="category">
                    <a href="productswanita.html?category=women">
                        <img src="product012.jpg" alt="Sepatu Wanita">
                        <p>Sepatu Wanita</p>
                    </a>
                </div>
                <div class="category">
                    <a href="productsanak.html?category=Sepatu Anak">
                        <img src="product013.jpg" alt="Sepatu Anak">
                        <p>Sepatu Anak</p>
                    </a>
                </div>
            </div>
        </section>
    </section>

    <section class="flash-sale">
        <h2>Flash Sale <span id="flashSaleCountdown">03 : 00 : 00</span></h2>
        <div class="flash-sale-container" >
            <div class="flash-sale-item" data-name="" data-price="180.000" data-description="Merek: Hikekicks.<br>Bahan: kanvas.<br>Warna : Putih.<br>Ukuran: 21 - 30."  data-reviews="Sangat Lengkap - #Daku - 5; Komplit - #Luna - 5">
                <img src="product30.jpg" alt="Produk 1" onclick="showProductDetails(this)">
                <p>Sepatu Hikekicks<br> Rp180.000 <span class="discount">-10%</span></p>
                <button class="button-beli" onclick="buyNow('Sepatu Hikekicks<br>(Putih)', 180000, 'product30.jpg', ['21','22','23', '24', '25', '26', '27', '28','29','30'])">Beli</button>
            </div>
            <div class="flash-sale-item" data-name="Sepatu Adidas" data-price="90000" data-description="Merek: Adidas.<br>Bahan: Sintesis.<br>Warna: Abu-Abu.<br>Ukuran: 41 - 45." data-reviews="Kardus Produk Rusak - #Dava - 3; Kurir Tidak Ramah - #Luna - 3">
                <img src="product3.jpg" alt="Produk 2" onclick="showProductDetails(this)">
                <p>Sepatu Adidas<br>Rp90.000<span class="discount">-10%</span></p>
                <button class="button-beli" onclick="buyNow('Sepatu Adidas (Abu-Abu)', 90000, 'product3.jpg', ['41','42','43','44','45'])">Beli</button>
            </div>
            <div class="flash-sale-item" data-name="Sepatu Adidas" data-price="140.000" data-description="Merek: Adidas.<br>Bahan: Sintesis.<br>Warna: Biru.<br>Ukuran: 38 - 45." data-reviews="Elegan - #Cici - 5; Mudah Dicuci - #Vexana - 5">
                <img src="product23.jpg" alt="Produk 3" onclick="showProductDetails(this)">
                <p>Sepatu Adidas<br>Rp140.000 <span class="discount">-10%</span></p>
                <button class="button-beli" onclick="buyNow('Sepatu Adidas (Biru)', 140000, 'product23.jpg', ['38','39','40', '41', '42', '43', '44', '45'])">Beli</button>
            </div>
            <div class="flash-sale-item" data-name="Sepatu Saba" data-price="175000" data-description="Merek: Saba.<br>Bahan: Kanvas.<br>Warna: Hitam Putih.<br>Ukuran: 41 - 45." data-reviews="Ukuran Sesuai - #Kinan - 5; Tidak Suka - #Tio - 3">
                <img src="product12.jpg" alt="Produk 3" onclick="showProductDetails(this)">
                <p>Sepatu Saba<br>Rp175.000 <span class="discount">-10%</span></p>
                <button class="button-beli" onclick="buyNow('Sepatu Saba (Hitam)', 175000, 'product12.jpg', ['41','42','43','44','45'])">Beli</button>            </div>
        </div>
    </section>
    <section class="product-list" id="searchResults"></section>
    <section class="featured">
        <h2>üëüProduk Baruüëü</h2>
        <div class="product-list">
            <div class="product" data-name="Sepatu Adidas" data-price="200.000" data-description="Merek: Adidas.<br>Bahan: Sintesis.<br>Warna : Hitam.<br>Ukuran: 40 - 45." data-reviews="Sangat nyaman dan sesuai ukuranüòá  - #Walid - 5; Produk bagus! - #Yuli - 4">
                <img src="product001.jpg" alt="Produk 1" onclick="showProductDetails(this)">
                <p>Sepatu Adidas<br> Rp200.000</p>
                <button class="button-beli" onclick="buyNow('Sepatu Adidas <br>(Hitam)', 200000, 'product001.jpg', ['40', '41', '42', '43', '44', '45'])">Beli</button>
                <button class="button-chat" onclick="chatWithSeller('Sepatu Adidas', 200000, 'product001.jpg')">‚úâ</button> 
            </div>            
            <div class="product sold-out" data-name="Sepatu Adidas" data-price="180.000" data-description="Merek: Adidas.<br>Bahan: Sintesis.<br>Warna : Hitam Merah.<br>Ukuran: 40 - 43." data-reviews="Produk ori. - #Nur Halimah - 4; Kualitas bagus. - #lulu - 4">
                <img src="product002.jpg" alt="Produk 2" onclick="showProductDetails(this)">
                <p>Sepatu Adidas<br>Rp180.000</p>
                <div class="sold-out-label">Terjual Habis</div>
                <button class="button-beli" disabled>Beli</button>
                <button class="button-chat" onclick="chatWithSeller('Sepatu Adidas', 200000, 'product002.jpg')" disabled>‚úâ</button> 
            </div>
            <div class="product" data-name="Sepatu Converse" data-price="205.000" data-description="Merek: Converse.<br>Bahan: Sintesis.<br>Warna : Merah.<br>Ukuran: 40 - 46." data-reviews="Sangat Bagus - #Siti- 5; Produk berkualitas! - #Bela - 5">
                <img src="product003.jpg" alt="Produk 3" onclick="showProductDetails(this)">
                <p>Sepatu Converse<br> Rp205.000</p>
                <button class="button-beli" onclick="buyNow('Sepatu Converse <br> (Merah)', 205000, 'product003.jpg' , ['40', '41', '42', '43','44','45','46'])">Beli</button>
                <button class="button-chat" onclick="chatWithSeller('Sepatu Adidas', 205000, 'product003.jpg')">‚úâ</button> 
            </div>
            <div class="product" data-name="Sepatu Converse" data-price="110.000" data-description="Merek: Converse.<br>Bahan: Sintesis.<br>Warna : Biru.<br>Ukuran: 39 - 42." data-reviews="Pengiriman Lama - #duno - 3; Tidak Mudah Rusak - kukuh - 4">
                <img src="product004.jpg" alt="Produk 6" onclick="showProductDetails(this)">
                <p>Sepatu Converse<br> Rp110.000</p>
                <button class="button-beli" onclick="buyNow('Sepatu Converse<br>(Biru)', 110000, 'product004.jpg', ['39','40', '41', '42'])">Beli</button>
                <button class="button-chat" onclick="chatWithSeller('Sepatu Adidas', 110000, 'product004.jpg')">‚úâ</button> 
            </div>
            <div class="product" data-name="Sepatu Nike" data-price="200.000" data-description="Merek: Adidas.<br>Bahan: Sintesis.<br>Warna : Merah Muda.<br>Ukuran: 38 - 45." data-reviews="Belom Dicek - #Nita - 4; Pengiriman Aman - #Lulu - 5">
                <img src="product005.jpg" alt="Produk 7" onclick="showProductDetails(this)">
                <p>Sepatu Nike<br> Rp200.000</p>
                <button class="button-beli" onclick="buyNow('Sepatu Nike <br>(Merah Muda)', 200000, 'product005.jpg', ['38','39','40', '41', '42', '43', '44', '45'])">Beli</button>
                <button class="button-chat" onclick="chatWithSeller('Sepatu Nike', 200000, 'product005.jpg')">‚úâ</button> 
            </div>
            <div class="product" data-name="Sepatu Anak" data-price="250.000" data-description="Merek: Hikekicks.<br>Bahan: kanvas.<br>Warna : Putih.<br>Ukuran: 21 - 30." data-reviews="Sangat Kuat - #Windy - 5; Sangat bermanfaat - #Kiki - 5">
                <img src="product006.jpg" alt="Produk 8" onclick="showProductDetails(this)">
                <p>Sepatu Anak<br>Rp250.000</p>
                <button class="button-beli" onclick="buyNow('Sepatu Anak<br>(Putih)', 250000, 'product006.jpg', ['21','22','23', '24', '25', '26', '27', '28','29','30'])">Beli</button>
                <button class="button-chat" onclick="chatWithSeller('Sepatu Hikekicks', 250000, 'product001.jpg')">‚úâ</button> 
            </div>
            <!-- Tambahkan lebih banyak produk jika diperlukan -->
        </div>
    </section>
    <br>
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalProductName"></h2>
            <p id="modalProductPrice"></p>
            <p id="modalProductDescription"></p>
            <h3>Ulasan Pelanggan</h3>
            <ul id="modalProductReviews"></ul>
        </div>
    </div>
    <script>
        function showProductDetails(element) {
            var productName = element.parentNode.getAttribute('data-name');
            var productPrice = element.parentNode.getAttribute('data-price');
            var productDescription = element.parentNode.getAttribute('data-description');
            var productReviews = element.parentNode.getAttribute('data-reviews');

            var modal = document.getElementById('productModal');
            var modalProductName = document.getElementById('modalProductName');
            var modalProductPrice = document.getElementById('modalProductPrice');
            var modalProductDescription = document.getElementById('modalProductDescription');
            var modalProductReviews = document.getElementById('modalProductReviews');

            modalProductName.innerText = productName;
            modalProductPrice.innerText = "Harga: Rp " + productPrice;
            modalProductDescription.innerHTML = "Deskripsi: " + productDescription;
            modalProductReviews.innerHTML = "<strong>Ulasan Pelanggan:</strong>";
            var reviews = productReviews.split(';');
            reviews.forEach(function(review) {
                var li = document.createElement('li');
                li.innerText = review.trim();
                modalProductReviews.appendChild(li);
            });

            modal.style.display = "block";
        }

        function closeModal() {
            var modal = document.getElementById('productModal');
            modal.style.display = "none";
        }

        function toggleDropdown() {
            var dropdownContent = document.getElementById("dropdownContent");
            dropdownContent.classList.toggle("show");
        }

        function logout() {
            localStorage.removeItem('userEmail');
            window.location.href = "index.html";
        }

        function validateSearch() {
            const query = document.getElementById('searchQuery').value.trim();
            if (query === '') {
                alert('Masukkan kata kunci pencarian.');
                return false;
            }
            return true;
        }

        function buyNow(productName, productPrice, productImage) {
            addToCart(productName, productPrice, productImage);
            window.location.href = 'checkout.html';
        }

        function changeLanguage(select) {
            var languageCode = select.value;
            var currentUrl = window.location.href;
            var baseUrl = currentUrl.split('?')[0]; // Mengambil bagian URL sebelum parameter

            window.location.href = baseUrl + "?lang=" + languageCode;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const userEmail = localStorage.getItem('userEmail');
            if (userEmail) {
                const authLinks = document.getElementById('auth-links');
                authLinks.innerHTML = `<span>Selamat datang, ${userEmail}</span>`;
            }

            // Menampilkan tanggal saat ini
            var currentDate = new Date();
            var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            var formattedDate = currentDate.toLocaleDateString('id-ID', options);

            // Mengambil elemen div currentDate
            var currentDateDiv = document.getElementById('currentDate');
            // Menambahkan tanggal dan emoji di dalamnya
            currentDateDiv.innerHTML = `${formattedDate} üóìÔ∏è`;
        });
    </script>
    <script src="scripts.js"></script>
    <script src="chat.html"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js" integrity="sha512-1Ea9IMcT8r/Yi4MqU3vTp79YeE2kmr4ur4w9xQW9O2ssNDBTo1ZP5s9pIyT6J6H6eGy5LCOFROyA8eg0+CXOZg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
